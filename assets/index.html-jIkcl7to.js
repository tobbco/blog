import{_ as i,c as a,a as n,o as e}from"./app-DLwuheDP.js";const l={};function t(p,s){return e(),a("div",null,s[0]||(s[0]=[n(`<p>Nginx (engine x) 是一款轻量级、高性能的 HTTP 和反向代理服务器，也能够作为邮件代理服务器和 IMAP/POP3 代理服务器。其特点在于占用资源少、并发能力强，使其成为许多大型网站的首选服务器。本文将详细介绍 Nginx 的安装、配置以及一些关键指令的使用。</p><h2 id="一、nginx-的安装" tabindex="-1"><a class="header-anchor" href="#一、nginx-的安装"><span>一、Nginx 的安装</span></a></h2><p>Nginx 的安装方式主要有两种：使用包管理器安装和编译安装。</p><h3 id="_1-使用包管理器安装-推荐" tabindex="-1"><a class="header-anchor" href="#_1-使用包管理器安装-推荐"><span>1. 使用包管理器安装 (推荐)</span></a></h3><p>这是最简单快捷的安装方式，适用于大多数 Linux 发行版。</p><ul><li><strong>Debian/Ubuntu:</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>CentOS/RHEL/Fedora:</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> yum</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # CentOS/RHEL 7</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dnf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # CentOS/RHEL 8, Fedora</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-编译安装" tabindex="-1"><a class="header-anchor" href="#_2-编译安装"><span>2. 编译安装</span></a></h3><p>编译安装需要一定的 Linux 知识，可以更灵活地定制 Nginx 的功能，但过程相对复杂。</p><h4 id="安装依赖" tabindex="-1"><a class="header-anchor" href="#安装依赖"><span>安装依赖</span></a></h4><p>需要安装一些必要的编译工具和库，例如 <code>gcc</code>, <code>g++</code>, <code>make</code>, <code>autoconf</code>, <code>libpcre3-dev</code>, <code>zlib1g-dev</code>, <code>openssl</code> 等。 具体依赖项可能因系统和 Nginx 版本而异。 例如，在 Debian/Ubuntu 系统上，可以使用以下命令安装依赖：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> build-essential</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libpcre3-dev</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> zlib1g-dev</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libssl-dev</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="下载源码" tabindex="-1"><a class="header-anchor" href="#下载源码"><span>下载源码</span></a></h4><p>从 Nginx 官方网站下载源码包 (例如，<code>nginx-1.23.3.tar.gz</code>)。</p><h4 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span><strong>配置</strong></span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">./configure</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --prefix=/usr/local/nginx</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --with-http_ssl_module</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="编译及安装" tabindex="-1"><a class="header-anchor" href="#编译及安装"><span>编译及安装</span></a></h4><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> make</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> make</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、nginx-配置文件" tabindex="-1"><a class="header-anchor" href="#二、nginx-配置文件"><span>二、Nginx 配置文件</span></a></h2><p>Nginx 的主要配置文件通常位于 <code>/etc/nginx/nginx.conf</code>。 这个文件包含了全局设置以及各个虚拟主机的配置。 虚拟主机配置通常位于 <code>/etc/nginx/sites-available/</code> 目录下，启用虚拟主机需要创建符号链接到 <code>/etc/nginx/sites-enabled/</code> 目录。</p><h3 id="root-和-alias-指令" tabindex="-1"><a class="header-anchor" href="#root-和-alias-指令"><span><code>root</code> 和 <code>alias</code> 指令</span></a></h3><ul><li><strong>相同点:</strong> 两者都可以指定资源文件所在磁盘位置。</li><li><strong>不同点:</strong> <code>root</code> 指令可以在 <code>server</code>、<code>http</code>、<code>location</code>、<code>if</code> 等上下文中使用；<code>alias</code> 指令只能在 <code>location</code> 上下文中使用。 <code>root</code> 指令在 <code>location</code> 中使用时，会将 <code>location</code> 的路径拼接在 <code>root</code> 指定的路径之后；<code>alias</code> 指令则不会拼接路径，而是直接使用 <code>alias</code> 指定的路径。 使用 <code>alias</code> 时，结尾通常需要添加反斜杠 <code>/</code>。</li></ul><h4 id="示例" tabindex="-1"><a class="header-anchor" href="#示例"><span>示例</span></a></h4><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /test </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    root </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/opt/nginx/html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>访问 <code>www.test.com/test/smile.jpg</code> 时，实际查找路径为 <code>/opt/nginx/html/test/smile.jpg</code></p></blockquote><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /test </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    alias </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/opt/nginx/html/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>访问 <code>www.test.com/test/smile.jpg</code> 时，实际查找路径为 <code>/opt/nginx/html/smile.jpg</code>。</p></blockquote><h3 id="proxy-pass-指令" tabindex="-1"><a class="header-anchor" href="#proxy-pass-指令"><span><code>proxy_pass</code> 指令</span></a></h3><p>用于反向代理，将请求转发到后端服务器。 <code>proxy_pass</code> 后面是否带 <code>/</code> 会影响路径的处理方式：</p><ul><li><p><strong>不带 <code>/</code>:</strong> 会将 <code>location</code> 的路径拼接在 <code>proxy_pass</code> 指定的服务器地址后面。</p></li><li><p><strong>带 <code>/</code>:</strong> 会将 <code>location</code> 路径删除。</p></li></ul><h4 id="示例-1" tabindex="-1"><a class="header-anchor" href="#示例-1"><span>示例</span></a></h4><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /abc </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    proxy_pass </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">http://127.0.0.1:8080</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>访问 <code>https://test.baidu.com/abc/index.html</code>，代理后请求 <code>http://127.0.0.1:8080/abc/index.html</code>。</p></blockquote><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /abc </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    proxy_pass </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">http://127.0.0.1:8080/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>访问 <code>https://test.baidu.com/abc/index.html</code>，代理后请求 <code>http://127.0.0.1:8080/index.html</code>。</p></blockquote><h3 id="其他常用指令" tabindex="-1"><a class="header-anchor" href="#其他常用指令"><span>其他常用指令</span></a></h3><ul><li><code>proxy_request_buffering</code>: 请求缓存到 Nginx 内存，大于内存时存到磁盘，会增加磁盘 IO，默认值 <code>off</code>。</li><li><code>client_max_body_size</code>: 请求体大小，当有上传请求时需要调整，默认值 <code>1M</code>。</li><li><code>client_body_buffer_size</code>: 缓冲区大小，默认 <code>8k</code> 或 <code>16k</code>。</li><li><code>client_body_temp_path</code>: 缓冲区磁盘路径。 这些指令可以在 <code>http</code>、<code>server</code>、<code>location</code> 等上下文中使用。</li></ul><h2 id="三、常用命令" tabindex="-1"><a class="header-anchor" href="#三、常用命令"><span>三、常用命令</span></a></h2><ul><li><code>systemctl status nginx</code> 命令查看 Nginx 的状态</li><li><code>systemctl start nginx</code> 启动 Nginx</li><li><code>systemctl stop nginx</code> 停止 Nginx</li><li><code>systemctl restart nginx</code> 重启 Nginx</li><li><code>systemctl nginx -t</code> 检查配置</li></ul><h2 id="四、nignx配置模版" tabindex="-1"><a class="header-anchor" href="#四、nignx配置模版"><span>四、Nignx配置模版</span></a></h2><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#user nobody nobody;  # 通常不需要修改，除非有特殊安全需求</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">worker_processes </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">auto</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 自动根据CPU核心数设置worker进程数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">error_log </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/var/log/nginx/error.log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 错误日志路径</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#error_log /var/log/nginx/error.log notice; # 设置日志级别为notice</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#error_log /var/log/nginx/error.log info; # 设置日志级别为info</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">pid </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/run/nginx.pid</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # nginx进程ID文件路径</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">events</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    worker_connections </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1024</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 每个worker进程可以处理的最大并发连接数</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">http</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    include </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/etc/nginx/mime.types</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # MIME类型定义文件</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    default_type </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">application/octet-stream</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 默认MIME类型</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #                  &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #                  &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #access_log /var/log/nginx/access.log  main; # 访问日志路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    sendfile </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">       on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 开启sendfile，提高性能</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    tcp_nopush </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 开启tcp_nopush，减少网络延迟</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    tcp_nodelay </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 开启tcp_nodelay，减少网络延迟</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    keepalive_timeout </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 65</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # keepalive超时时间</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #gzip  on; # 开启gzip压缩，提高性能，需根据实际情况调整</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #gzip_min_length  1000; # gzip压缩最小长度</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #gzip_buffers  4 16k; # gzip压缩缓冲区大小</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #gzip_http_version 1.1; # gzip压缩HTTP版本</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #gzip_comp_level 6; # gzip压缩级别</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript; # gzip压缩类型</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    server</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        listen </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      80</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 监听端口</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        listen </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">      [::]:80</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 监听IPv6端口</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        server_name </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> localhost</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 服务器名称</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #charset koi8-r; # 字符集</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #access_log /var/log/nginx/host.access.log  main; # 访问日志路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> / </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            root </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  /usr/share/nginx/html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 网站根目录</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            index </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> index.html index.htm</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 默认首页文件</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #error_page  404              /404.html; # 404错误页面</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # redirect server error pages to the static page /50x.html</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #error_page   500 502 503 504  /50x.html;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #location = /50x.html {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    root   /usr/share/nginx/html;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #location ~ \\.php$ {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    include snippets/fastcgi-php.conf;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    fastcgi_pass   127.0.0.1:9000;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #location ~ \\.php$ {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    include snippets/fastcgi-php.conf;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    #</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    # With php7.0-cgi alone:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    # fastcgi_pass 127.0.0.1:9000;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    #</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    # With php7.0-fpm:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    fastcgi_pass unix:/run/php/php7.0-fpm.sock;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # deny access to .htaccess files, if Apache&#39;s document root</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # concurs with nginx&#39;s one</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #location ~ /\\.ht {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #    deny all;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        #}</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #include /etc/nginx/conf.d/*.conf; # 包含其他配置文件</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,43)]))}const h=i(l,[["render",t],["__file","index.html.vue"]]),c=JSON.parse('{"path":"/article/g75aawe2/","title":"Nginx：高性能Web服务器详解","lang":"zh-CN","frontmatter":{"title命名":"Nginx：高性能Web服务器详解","createTime":"2023/04/16 15:40:48","permalink":"/article/g75aawe2/","tags":["linux","nginx"],"title":"Nginx：高性能Web服务器详解"},"headers":[],"readingTime":{"minutes":4.15,"words":1244},"git":{"updatedTime":1737193342000,"contributors":[{"name":"xianchaoye","username":"xianchaoye","email":"18201082822@163.com","commits":2,"avatar":"https://avatars.githubusercontent.com/xianchaoye?v=4","url":"https://github.com/xianchaoye"}]},"filePathRelative":"linux/Nginx：高性能Web服务器详解.md","categoryList":[{"id":"e206a5","sort":10005,"name":"linux"}],"bulletin":false}');export{h as comp,c as data};
